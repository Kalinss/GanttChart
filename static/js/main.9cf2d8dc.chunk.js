(this["webpackJsonpgantt-chart"]=this["webpackJsonpgantt-chart"]||[]).push([[0],[,,,,function(e,t,a){e.exports={taskInfo:"style_taskInfo__2T9dR",active:"style_active__318gz",name:"style_name__3_UbX",list:"style_list__YKPW_",item:"style_item__1YwLo",dependence:"style_dependence__1Eyn3",positive:"style_positive__1U6g5",negative:"style_negative__2pjeg"}},function(e,t,a){e.exports={chartTask:"style_chartTask__2whzi",container:"style_container__pXo55",name:"style_name__1aupn",absolute:"style_absolute__1mQCX",pull:"style_pull__2v73O",pullLeft:"style_pullLeft__1FCeK",pullRight:"style_pullRight__mrxtL",rightLine:"style_rightLine__1UdAw"}},function(e,t,a){e.exports={container:"style_container__1dGbq",axis:"style_axis__1sRmn",axisX:"style_axisX__3SfNW",axisY:"style_axisY__3ExXO",hiddenLayer:"style_hiddenLayer__2HbPz",active:"style_active__1lPjB",list:"style_list__-Bls-",line:"style_line__3twnL",content:"style_content__3NPYo",infoItem:"style_infoItem__1cqkm",notScroll:"style_notScroll__6s6uV"}},,,,function(e,t,a){e.exports={header:"style_header__eYM6Z",top:"style_top__DSug5",bottom:"style_bottom__1IhXZ",itemBottom:"style_itemBottom__3C0WU"}},,function(e,t,a){e.exports={layer:"style_layer__3fEMV",arrow:"style_arrow__2yMnH",active:"style_active__1eU14",show:"style_show__1Fdj5",disable:"style_disable__3VCNv"}},,function(e,t,a){e.exports={wrapper:"style_wrapper__aTaeC",disabled:"style_disabled__3Gtl1"}},,,,,function(e,t,a){e.exports=a(29)},,,,,function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(18),s=a.n(r),c=(a(24),a(2)),o=a(6),d=a.n(o),l=a(5),u=a.n(l),m=a(1),p=a.n(m),f=i.a.memo((function(e){var t=e.name,a=e.startPosition,r=e.height,s=e.width,o=e.duration,d=e.startDay,l=e.id,m=e.isTask,f=e.clickHandler,y=void 0===f?function(){}:f,_=Object(n.useState)(!1),h=Object(c.a)(_,2),v=h[0],k=h[1],g=Object(n.useRef)(null);return Object(n.useEffect)((function(){k(s-g.current.clientWidth<20)}),[s]),i.a.createElement("div",{onClick:function(){y(l)},style:{transform:"translateX(".concat(a,"px)")},className:u.a.chartTask},i.a.createElement("div",{style:{height:r,width:s-4},className:u.a.container},i.a.createElement("div",{className:p()(u.a.pull,u.a.pullLeft),"data-id":l,"data-type":"leftPull","data-start":d,"data-task":m,"data-duration":o}),i.a.createElement("p",{ref:g,className:p()(u.a.name,v&&u.a.absolute)},t),i.a.createElement("div",{className:p()(u.a.pull,u.a.pullRight),"data-id":l,"data-type":"rightPull","data-task":m,"data-start":d,"data-duration":o})))})),y=a(10),_=a.n(y),h=function(e){var t,a=e.step,n=e.type,r=e.zeroDayConfig;return i.a.createElement("header",{className:_.a.header},"zeroDay"===n&&i.a.createElement("div",null,i.a.createElement("div",{className:_.a.top},i.a.createElement("h2",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0445 \u0434\u043d\u0435\u0439")),i.a.createElement("ul",{className:_.a.bottom},(t=r.maxDay,Array(t+1).fill(0).map((function(e,t){return t}))).map((function(e,t){return i.a.createElement("li",{key:t,className:_.a.itemBottom,style:{width:a}},i.a.createElement("span",null,e))})))))},v=a(12),k=a.n(v),g=function(e){var t=e.path,a=e.active;return i.a.createElement("polyline",{className:p()(k.a.arrow,a&&k.a.active),points:t})},E=function(e){var t=e.paths,a=e.activeId,n=void 0===a?"":a;return i.a.createElement("div",{className:k.a.layer},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},t.map((function(e,t){return i.a.createElement("g",{key:t},i.a.createElement(g,{path:e[e.length-1],active:!1}))})),t.filter((function(e){return e[0]===n})).map((function(e,t){return i.a.createElement("g",{key:t},i.a.createElement(g,{path:e[e.length-1],active:!0}))}))))},b=a(3),T=a(7),O=a(8),j=function(e,t){return["".concat(t.left-6,",").concat(t.middleHeight-4),"".concat(t.left-2,",").concat(t.middleHeight),"".concat(t.left-6,",").concat(t.middleHeight+4),"".concat(t.left-2,",").concat(t.middleHeight)]},w=function(e,t){return function(e,t){return["".concat(e.left+e.width/2,",").concat(e.top+e.height),"".concat(e.left+e.width/2,",").concat(t.middleHeight),"".concat(t.left,", ").concat(t.middleHeight),j(0,t)]}(e,t)},S=function(e,t){var a=[];return e.map((function(e){e.dependencies.map((function(n){var i=t.get(e.id),r=t.get(n);a.push([e.id,w(i,r).join(" ")])}))})),a},N=Object(T.curry)((function(e,t){return t.filter((function(t){return t.dependencies.includes(e)}))})),R=Object(T.curry)((function(e,t,a){var n=a.find((function(e){return e.id===t}))[e];return n.length?n.map((function(e){return a.find((function(t){return t.id===e}))})):[]})),D=function(e){return e.map((function(e){return e.start+e.duration}))},X=function(e){return e.map((function(e){return e.start}))},x=function(e,t,a){var n=[];return function e(t,i){var r=t.find((function(e){return e.id===i}))[a];n.push.apply(n,Object(O.a)(r)),0!==r.length&&r.map((function(a){return e(t,a)}))}(e,t),Object(O.a)(new Set(n))},H=function(e){return e.reduce((function(e,t){return t<e?t:e}),e[0])},P=function(e){return e.reduce((function(e,t){return t>e?t:e}),e[0])},C=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type?e.touches[a][t]:e[t]},I=a(13),M=function(e){return function(t){t.persist(),t.preventDefault(),e(t)}},L=function(e,t){return e>=t},A=function(e,t){return e-t===0},z=function(e,t){return Object(I.compose)(H,X,R("dependencies",t))(e)},U=function(e){var t=e.children,a=e.rightPullEvent,r=e.leftPullEvent,s=e.config,o=e.getStatusDragMode,d=e.allTask,l=Object(n.useState)(null),u=Object(c.a)(l,2),m=u[0],p=u[1],f=Object(n.useState)(null),y=Object(c.a)(f,2),_=y[0],h=y[1],v=Object(n.useState)(0),k=Object(c.a)(v,2),g=k[0],E=k[1],O=Object(n.useState)(0),j=Object(c.a)(O,2),w=j[0],S=j[1],X=function(e,t){e.map((function(e){var a=t.find((function(t){return t.id==e}));r(e,a.start+1)})),p(Object(b.a)({},m,{posX:+m.posX+s.dayStep,duration:+m.duration+1})),E(z(t,m.id)+1)},H=function(e,t){e.map((function(e){var a=t.find((function(t){return t.id==e}));r(e,a.start-1)})),p(Object(b.a)({},m,{posX:+m.posX+s.dayStep,duration:+m.duration-1})),E(z(t,m.id)-1)},U=function(){r(m.id,+m.start+1),a(m.id,+m.duration-1),p(Object(b.a)({},m,{posX:+m.posX+s.dayStep,start:+m.start+1,duration:+m.duration-1}))},B=function(){r(m.id,+m.start-1),a(m.id,+m.duration+1),p(Object(b.a)({},m,{posX:+m.posX-s.dayStep,start:+m.start-1,duration:+m.duration+1}))},V=function(){a(m.id,+m.duration+1),p(Object(b.a)({},m,{posX:+m.posX+s.dayStep,duration:+m.duration+1}))},W=function(){a(m.id,+m.duration-1),p(Object(b.a)({},m,{posX:+m.posX-s.dayStep,duration:+m.duration-1}))},Y=function(e){var t,a,n=e.target,i=e.target.dataset.type;"rightPull"!==i&&"leftPull"!==i||(p(function(e){var t=e.target;return{isDoc:"false"===t.dataset.task,id:t.dataset.id,posX:+C(e,"clientX",0),duration:parseInt(t.dataset.duration),start:parseInt(t.dataset.start)}}(e)),h(i),o(!0),E(z(d,n.dataset.id)||s.maxDay),S((t=d,a=n.dataset.id,Object(I.compose)(P,D,N(a))(t)||0)))},F=function(){p(null),h(null),o(!1)},G=function(e){return L(C(e,"clientX")-m.posX,s.dayStep)},q=function(e){return L(m.posX-C(e,"clientX"),s.dayStep)},J=function(e){if(m&&_)switch(_){case"rightPull":if(q(e)){if(3===m.duration)return;if(m.isDoc&&A(g,m.duration+m.start)){var t=x(d,m.id,"dependencies"),a=function(e,t,a){var n=function(e,t){return t.map((function(t){return e.filter((function(e){return e.id===t}))})).flat(1/0)}(e,t).filter((function(e){return e.start===a.start+a.duration})),i=R("parentTasks",n[0].id,e).filter((function(e){return e.id!==a.id}));return P(i.map((function(e){return e.start+e.duration})))}(d,t,m);if(m.start+m.duration===a)return void W();H(t,d)}W()}if(G(e)){if(30===m.duration)return;if(A(g,m.duration+m.start)){if(!m.isDoc)return;var n=x(d,m.id,"dependencies");X(n,d)}V()}break;case"leftPull":if(q(e)){if(m.start-w==0)return;B()}if(G(e)){if(1===m.duration)return;U()}break;default:return}};return i.a.createElement("div",{style:{cursor:_?"ew-resize":"auto",position:"relative"},onMouseDown:Y,onMouseUp:F,onMouseMove:M(Object(T.throttle)(J,10)),onTouchStart:Y,onTouchEnd:F,onTouchMove:M(Object(T.throttle)(J,10))},t)},B=a(4),V=a.n(B),W=a(14),Y=a.n(W),F=function(e){var t=e.children,a=e.link,n=void 0===a?"":a,r=e.isDisabled,s=void 0!==r&&r,c=e.clickHandler,o=void 0===c?function(){}:c;return i.a.createElement("div",{className:p()(Y.a.wrapper,s&&Y.a.disabled),onClick:function(e){e.preventDefault(),s||o()}},i.a.createElement("a",{href:n},t))},G=function(e){var t=e.name,a=e.value;return i.a.createElement("li",{className:V.a.item},i.a.createElement("span",null,t)," ",i.a.createElement("span",null,a))},q=function(e){var t=e.name,a=e.data,n=e.currentItem,r=e.readyClass,s=void 0===r?"":r,c=e.notReady,o=void 0===c?"":c;return i.a.createElement(i.a.Fragment,null,!!a.length&&i.a.createElement("li",{className:V.a.item},i.a.createElement("span",null,t),i.a.createElement("ul",null,a.map((function(e,t){return i.a.createElement("li",{key:e.id+t,className:p()(V.a.dependence,!n.isTask&&(e.isReady?s:o))},e.name)})))))},J=function(e){var t,a=e.left,n=void 0===a?0:a,r=e.top,s=void 0===r?0:r,c=e.isActive,o=void 0!==c&&c,d=e.data,l=void 0===d?null:d,u=e.allTask,m=e.createDocumentationHandler,f=l?R("dependencies",l.id||"",u):null,y=l?R("parentTasks",l.id||"",u):null;return i.a.createElement(i.a.Fragment,null,l&&i.a.createElement("div",{style:{left:n,top:s},className:p()(V.a.taskInfo,o&&V.a.active)},i.a.createElement("p",{className:V.a.name},l.name),i.a.createElement("div",{className:V.a.bottom},i.a.createElement("ul",{className:V.a.list},i.a.createElement(G,{name:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:l.duration}),i.a.createElement(G,{name:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0435\u043d\u044c",value:l.start}),!!f&&i.a.createElement(q,{currentItem:l,data:f,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438:"}),!!y&&i.a.createElement(q,{currentItem:l,data:y,name:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c:",readyClass:V.a.positive,notReady:V.a.negative}))),!l.isTask&&i.a.createElement(F,{clickHandler:function(){window.confirm('\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c, \u0447\u0442\u043e \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f "\u043e\u043a" \u0432\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e')&&m(l.id)},isDisabled:(t=y,!t.every((function(e){return e.isReady})))},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e")))},K=function(e){var t=e.data,a=e.config,r=e.height,s=e.rightPullEvent,o=e.leftPullEvent,l=e.createDocument,u=Object(n.useState)(""),m=Object(c.a)(u,2),y=m[0],_=m[1],v=Object(n.useState)(null),k=Object(c.a)(v,2),g=k[0],b=k[1],T=Object(n.useState)(!1),O=Object(c.a)(T,2),j=O[0],w=O[1],N=function(e){return b(t.find((function(t){return t.id===e}))||null)},R=function(e,t){var a=new Map;return e.map((function(e,n){var i=n*t.lineHeight+(t.lineHeight-t.itemHeight)/2,r=t.dayStep*e.start,s=e.duration*t.dayStep,c=t.itemHeight;a.set(e.id,{top:i,left:r,middleHeight:i+c/2,middleWidth:r+s/2,width:s,height:c})})),a}(t,a),D=(a.maxDay+1)*a.dayStep,X=R.get(g&&g.id||"");return i.a.createElement(U,{allTask:t,leftPullEvent:o,rightPullEvent:s,config:a,getStatusDragMode:w},i.a.createElement("div",{style:{height:"".concat(r,"px")},className:p()(d.a.container,j&&d.a.notScroll)},i.a.createElement("div",{style:{width:D}},i.a.createElement(h,{type:"zeroDay",zeroDayConfig:{maxDay:a.maxDay},step:a.dayStep}),i.a.createElement("main",{className:d.a.content},i.a.createElement(E,{activeId:j?"":y||g&&g.id||"",paths:S(t,R)}),i.a.createElement("ul",{className:d.a.list},t&&t.map((function(e,t){return i.a.createElement("li",{key:t+e.id,style:{height:a.lineHeight},className:d.a.line,onMouseEnter:function(){_(e.id)},onMouseLeave:function(){_("")}},i.a.createElement(f,{id:e.id,width:a.dayStep*e.duration,duration:e.duration,height:a.itemHeight,name:e.name,startPosition:e.start*a.dayStep,startDay:e.start,isTask:e.isTask,clickHandler:N}))}))),i.a.createElement(J,{left:X&&X.left+X.width+10,top:X&&X.top+X.height-25,isActive:!!g,data:g||t[0],allTask:t,createDocumentationHandler:l}))),i.a.createElement("div",{onClick:function(){return b(null)},style:{width:a.dayStep*a.maxDay+1},className:p()(d.a.hiddenLayer,g&&d.a.active)})))},Z=[{id:"task55",name:"\u0422\u0435\u0441\u0442 1",start:5,duration:5,dependencies:["doc55"],parentTasks:[],isReady:!1,isTask:!0},{id:"doc55",name:"\u0422\u0435\u0441\u0442 2 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",start:20,duration:14,dependencies:[],parentTasks:[],isReady:!1,isTask:!1},{id:"task555",name:"\u0422\u0435\u0441\u0442 3",start:5,duration:5,dependencies:["doc55"],parentTasks:[],isReady:!1,isTask:!0},{id:"task5555",name:"\u0422\u0435\u0441\u0442 4",start:10,duration:10,dependencies:[],parentTasks:[],isReady:!1,isTask:!0},{id:"task55554",name:"\u0422\u0435\u0441\u0442 5 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",start:3,duration:3,dependencies:["task555545"],parentTasks:[],isReady:!1,isTask:!1},{id:"task5555451",name:"\u0422\u0435\u0441\u0442 7 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",start:20,duration:8,dependencies:[],parentTasks:["task555545"],isReady:!1,isTask:!1},{id:"task555545",name:"\u0422\u0435\u0441\u0442 4 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",start:10,duration:10,dependencies:["task5555123","task5555451"],parentTasks:["task55554"],isReady:!1,isTask:!1},{id:"task5555123",name:"\u0422\u0435\u0441\u0442 6 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",start:20,duration:8,dependencies:[],parentTasks:["task555545"],isReady:!1,isTask:!1},{id:"task1",name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 5.7 \u0434\u043b\u044f 5.1",start:3,duration:7,dependencies:["doc1"],parentTasks:[],isReady:!1,isTask:!0},{id:"task2",name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 5.7 \u0434\u043b\u044f 5.2",start:3,duration:7,dependencies:["task4","task5"],parentTasks:[],isReady:!1,isTask:!0},{id:"task3",name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 5.7 \u0434\u043b\u044f 5.3",start:3,duration:7,dependencies:["doc3"],parentTasks:[],isReady:!1,isTask:!0},{id:"task4",name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 5.2 \u0434\u043b\u044f 5.1",start:13,duration:7,dependencies:["doc1","doc2"],parentTasks:[],isReady:!1,isTask:!0},{id:"task5",name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 5.2 \u0434\u043b\u044f 5.3",start:13,duration:7,dependencies:["doc2","doc3"],parentTasks:[],isReady:!1,isTask:!0},{id:"doc1",name:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f 5.1",start:20,duration:14,dependencies:["doc4"],parentTasks:[],isReady:!1,isTask:!1},{id:"doc2",name:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f 5.2",start:20,duration:10,dependencies:["doc4"],parentTasks:[],isReady:!1,isTask:!1},{id:"doc3",name:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f 5.3",start:20,duration:10,dependencies:["doc4"],parentTasks:[],isReady:!1,isTask:!1},{id:"doc4",name:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f 5.7",start:34,duration:10,dependencies:["doc5"],parentTasks:["doc1","doc2","doc3"],isReady:!1,isTask:!1},{id:"doc5",name:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f 5.1",start:44,duration:10,dependencies:[],parentTasks:["doc4"],isReady:!1,isTask:!1}],Q="CHANGE_DURATION",$="CHANGE_START",ee="CREATE_DOCUMENTATION",te=function(e,t,a){return e.reduce((function(e,n){return n.id===t?[].concat(Object(O.a)(e),[a(n)]):[].concat(Object(O.a)(e),[Object(b.a)({},n)])}),[])},ae=function(e){return Object(b.a)({},e,{isReady:!0})},ne=function(e,t){switch(t.type){case Q:return te(e,t.id,(a=t.durationValue,function(e){return Object(b.a)({},e,{duration:a})}));case $:return te(e,t.id,function(e){return function(t){return Object(b.a)({},t,{start:e})}}(t.startValue));case ee:return te(e,t.id,ae);default:return e}var a};var ie=function(){var e=Object(n.useReducer)(ne,Z),t=Object(c.a)(e,2),a=t[0],r=t[1];return i.a.createElement("main",{className:"wrapper"},i.a.createElement(K,{rightPullEvent:function(e,t){r({type:Q,id:e,durationValue:t})},leftPullEvent:function(e,t){r({type:$,id:e,startValue:t})},createDocument:function(e){r({type:ee,id:e})},height:650,data:a,config:{maxDay:150,dayStep:30,itemHeight:20,lineHeight:35,debugSvgLayerMode:!0}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[19,1,2]]]);
//# sourceMappingURL=main.9cf2d8dc.chunk.js.map