{"version":3,"sources":["components/molecules/GanttChartTaskInfoBox/style.module.scss","components/atoms/ChartTask/style.module.scss","components/organisms/GanttChart/style.module.scss","components/molecules/GanttChartHeader/style.module.scss","styles/app.module.scss","components/molecules/GanttChartArrowLayer/style.module.scss","components/atoms/LinkAsButton/style.module.scss","components/atoms/ChartTask/index.tsx","components/molecules/GanttChartHeader/index.tsx","components/molecules/GanttChartArrowLayer/index.tsx","utils/ganttChartArrowPatterns.tsx","utils/other.tsx","utils/ganttChart.tsx","utils/positionElements.tsx","utils/ganttChartPullAndPushAlgoritms.tsx","components/organisms/GanttChart/GanttChartPullItems.tsx","components/atoms/LinkAsButton/index.tsx","components/molecules/GanttChartTaskInfoBox/index.tsx","components/organisms/GanttChart/index.tsx","data/inputMock.ts","reducers/constants.tsx","reducers/reducer.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","ChartTask","React","memo","name","startPosition","height","width","duration","startDay","id","isTask","clickHandler","useState","isProlapse","setProlapse","textField","useRef","useEffect","current","clientWidth","onClick","style","transform","className","chartTask","container","classNames","pull","pullLeft","data-id","data-type","data-start","data-task","data-duration","ref","absolute","pullRight","GanttChartHeader","max","step","type","zeroDayConfig","header","top","bottom","maxDay","Array","fill","map","item","i","key","itemBottom","Line","path","active","arrow","points","GanttChartArrowLayer","paths","activeId","layer","xmlns","length","filter","arrowPattern","from","to","left","middleHeight","minNumber","arr","reduce","acc","maxNumber","createPath","bottomToLeftPattern","createPathMap","data","positions","dependencies","fromPosition","get","toPosition","push","join","getAllParentsBFS","startObject","result","find","shift","Set","f","getAllTaskWithItemInDependencies","curry","includes","getArrayFieldById","field","list","obj","getALLEndPositionItem","start","getAllStartPositionItems","getAllDependenciesItemsById","itemId","startId","dep","getAllObjectInDataById","flat","Infinity","minPositionByDependenciesItems","idTargetItem","compose","maxPositionByParentItems","getPositionEvent","e","axis","touchNumber","touches","allChildrenPullLeft","mode","dependenciesItems","neededUpdate","object","parents","parentTasks","maxParentSize","maxParents","size","maxAjast","every","pushAndPull","recursionTransition","firstChildrenRight","pullItems","endPosition","dependenciesItem","firstChildrenLeft","dependenciesID","allChildrenPull","mouseEventHandler","fn","persist","preventDefault","neededUpdatePosition","position","isConfront","pos1","pos2","GanttChartPullItems","children","rightPullEvent","leftPullEvent","config","getStatusDragMode","allTask","dragObject","setDragObject","dragMode","setDragMode","minStartPosition","setStartPosition","maxEndPosition","setMaxPosition","pullAndPushMode","rightTapToRight","rightTapToLeft","pullEvent","posX","dayStep","mouseDownTouchStartEventHandler","target","dataset","isDoc","task","parseInt","createDraggableObject","mouseUpTouchEndEventHandler","isPullRight","isPullLeft","mouseMoveTouchMove","pullObjects","resultID","cursor","onMouseDown","onMouseUp","onMouseMove","throttle","onTouchStart","onTouchEnd","onTouchMove","LinkAsButton","link","isDisabled","wrapper","disabled","href","Info","value","InfoList","currentItem","readyClass","notReady","dependence","isReady","GanttChartTaskInfoBox","tasks","isActive","createDocumentationHandler","getParentDoc","taskInfo","positive","negative","window","confirm","GanttChart","createDocument","hoverItem","setHoverItem","activeItem","setActiveItem","setMaxDay","clickItemHandler","positionItems","Map","lineHeight","itemHeight","set","middleWidth","createPositionMap","widthWrapper","activeItemPosition","maxPositionElements","notScroll","content","line","onMouseEnter","onMouseLeave","hiddenLayer","inputMock","updateCollectionById","collection","createDocumentation","reducer","state","action","C","durationValue","changeStart","startValue","App","useReducer","dispatch","leftTap","setLeftTap","rightTap","setRightTap","up","debugSvgLayerMode","buttons","cont","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.f484c9cd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"taskInfo\":\"style_taskInfo__2T9dR\",\"active\":\"style_active__318gz\",\"name\":\"style_name__3_UbX\",\"list\":\"style_list__YKPW_\",\"item\":\"style_item__1YwLo\",\"dependence\":\"style_dependence__1Eyn3\",\"positive\":\"style_positive__1U6g5\",\"negative\":\"style_negative__2pjeg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chartTask\":\"style_chartTask__2whzi\",\"container\":\"style_container__pXo55\",\"name\":\"style_name__1aupn\",\"absolute\":\"style_absolute__1mQCX\",\"pull\":\"style_pull__2v73O\",\"pullLeft\":\"style_pullLeft__1FCeK\",\"pullRight\":\"style_pullRight__mrxtL\",\"rightLine\":\"style_rightLine__1UdAw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1dGbq\",\"axis\":\"style_axis__1sRmn\",\"axisX\":\"style_axisX__3SfNW\",\"axisY\":\"style_axisY__3ExXO\",\"hiddenLayer\":\"style_hiddenLayer__2HbPz\",\"active\":\"style_active__1lPjB\",\"list\":\"style_list__-Bls-\",\"line\":\"style_line__3twnL\",\"content\":\"style_content__3NPYo\",\"infoItem\":\"style_infoItem__1cqkm\",\"notScroll\":\"style_notScroll__6s6uV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__eYM6Z\",\"top\":\"style_top__DSug5\",\"bottom\":\"style_bottom__1IhXZ\",\"itemBottom\":\"style_itemBottom__3C0WU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"up\":\"app_up__1ey03\",\"buttons\":\"app_buttons__3VLqv\",\"cont\":\"app_cont__2U3X3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__3fEMV\",\"arrow\":\"style_arrow__2yMnH\",\"active\":\"style_active__1eU14\",\"show\":\"style_show__1Fdj5\",\"disable\":\"style_disable__3VCNv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__aTaeC\",\"disabled\":\"style_disabled__3Gtl1\"};","import React,{useState,useRef,useEffect} from \"react\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\n\nexport type ChartTaskData = {\n  name: string;\n  startPosition: number;\n  height: number;\n  width: number;\n  duration: number;\n  id: string;\n  startDay: number;\n  isTask:boolean;\n  clickHandler?: (id: string) => void;\n};\n\n\nexport const ChartTask: React.FC<ChartTaskData> = React.memo(({\n  name,\n  startPosition,\n  height,\n  width,\n  duration,\n  startDay,\n  id,\n  isTask,\n  clickHandler = () => {},\n}) => {\n\n    const [isProlapse,setProlapse] = useState(false);\n\n    const textField = useRef<null|HTMLDivElement>(null);\n    useEffect(()=>{\n        setProlapse(width - textField.current!.clientWidth <20);\n    },[width]);\n    return (\n    <div\n      onClick ={()=>{clickHandler(id)}}\n      style={{ transform: `translateX(${startPosition}px)` }}\n      className={style.chartTask}\n    >\n      <div\n        style={{ height: height, width: width - 4 }}\n        className={style.container}\n      >\n        <div\n          className={classNames(style.pull, style.pullLeft)}\n          data-id={id}\n          data-type=\"leftPull\"\n          data-start={startDay}\n          data-task={isTask}\n          data-duration={duration}\n        />  \n        <p ref={textField} className={classNames(style.name,isProlapse&&style.absolute)}>{name}</p>\n        <div\n          className={classNames(style.pull, style.pullRight)}\n          data-id={id}\n          data-type=\"rightPull\"\n          data-task={isTask}\n          data-start={startDay}\n          data-duration={duration}\n        />\n      </div>\n    </div>\n  );\n});\n","import React from \"react\";\nimport style from \"./style.module.scss\";\n\nexport type GanttChartHeaderType = {\n  type: \"zeroDay\" | \"week\" | \"mount\";\n  step: number;\n  zeroDayConfig?: {\n    maxDay: number;\n  };\n};\n\nconst createArrayFrom0To = (max: number) => {\n  return Array<number>(max + 1)\n    .fill(0)\n    .map((item, i) => i);\n};\n\nexport const GanttChartHeader: React.FC<GanttChartHeaderType> = ({\n  step,\n  type,\n  zeroDayConfig,\n}) => {\n  return (\n    <header\n      className={style.header}\n    >\n      {type === \"zeroDay\" && (\n        <div>\n          <div className={style.top}>\n            <h2>Количество требуемых дней</h2>\n          </div>\n          <ul className={style.bottom}>\n            {createArrayFrom0To(zeroDayConfig!.maxDay).map((item,i) => (\n              <li key={i} className={style.itemBottom} style={{ width: step }}>\n                {<span>{item}</span>}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </header>\n  );\n};\n","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport {\n  GanttChartArrowsPathType,\n} from \"../../../types\";\nimport classNames from \"classnames\";\n\nexport type GanttChartArrowLayerType = {\n  paths: GanttChartArrowsPathType;\n  activeId?: string;\n};\n\nconst Line: React.FC<{ path: string; active: boolean }> = ({\n  path,\n  active,\n}) => {\n  return (\n    <polyline\n      className={classNames(style.arrow, active && style.active)}\n      points={path}\n    />\n  );\n};\nexport const GanttChartArrowLayer: React.FC<GanttChartArrowLayerType> = ({\n  paths,\n  activeId = \"\",\n}) => {\n  return (\n    <div className={style.layer}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\">\n        {paths!.map((path,i) => (\n            <g key={i}>\n          <Line path={path[path.length - 1]} active={false} />\n            </g>\n        ))}\n        {paths!\n          .filter((path) => path[0] === activeId)\n          .map((path,i) => (\n              <g key={i}>\n            <Line path={path[path.length - 1]} active={true} />\n              </g>\n          ))}\n      </svg>\n    </div>\n  );\n};\n","import { GanttChartPositionItemType } from \"../types\";\n\nconst arrowPattern = (\n  from: GanttChartPositionItemType,\n  to: GanttChartPositionItemType\n) => {\n  return [\n    `${to!.left - 6},${to!.middleHeight - 4}`,\n    `${to!.left - 2},${to!.middleHeight}`,\n    `${to!.left - 6},${to!.middleHeight + 4}`,\n    `${to!.left - 2},${to!.middleHeight}`,\n  ];\n};\n\nexport const bottomToLeftPattern = (\n  from: GanttChartPositionItemType,\n  to: GanttChartPositionItemType\n) => {\n  return [\n    `${from!.left + from!.width / 2},${from!.top + from!.height}`, // начинаем снизу с середины\n    `${from!.left + from!.width / 2},${to!.middleHeight}`,\n    `${to!.left}, ${to!.middleHeight}`,\n    arrowPattern(from, to),\n  ];\n};\n","export const minNumber = (arr: number[]) =>  arr.reduce((acc, item) => (item < acc ? item : acc), arr[0]);\nexport const maxNumber = (arr:number[])=> arr.reduce((acc, item) => (item > acc ? item : acc), arr[0]);\n\n","import {\n  GanttChartConfigType,\n  GanttChartDataType,\n  GanttChartItemPositionMapType,\n  GanttChartObjectType,\n  GanttChartPositionItemType,\n} from \"../types\";\nimport { bottomToLeftPattern } from \"./ganttChartArrowPatterns\";\nimport { curry } from \"lodash\";\nimport { compose } from \"lodash/fp\";\nimport { maxNumber, minNumber } from \"./other\";\n\nexport const createPositionMap = (\n  data: GanttChartDataType,\n  config: GanttChartConfigType\n) => {\n  const map = new Map();\n  data.map((item, i) => {\n    const top =\n      i * config.lineHeight + (config.lineHeight - config.itemHeight) / 2;\n    const left = config.dayStep * item.start;\n    const width = item.duration * config.dayStep;\n    const height = config.itemHeight;\n\n    map.set(item.id, {\n      top: top,\n      left: left,\n      middleHeight: top + height / 2,\n      middleWidth: left + width / 2,\n      width: width,\n      height: height,\n    });\n  });\n  return map;\n};\n\nexport const createPath = (\n  from: GanttChartPositionItemType,\n  to: GanttChartPositionItemType\n) => {\n  return bottomToLeftPattern(from, to);\n};\n\nexport const createPathMap = (\n  data: GanttChartDataType,\n  positions: GanttChartItemPositionMapType\n): string[][] => {\n  const paths: string[][] = [];\n  data.map((from) => {\n    from.dependencies!.map((to) => {\n      const fromPosition = positions.get(from.id);\n      const toPosition = positions.get(to);\n      paths.push([from.id, createPath(fromPosition!, toPosition!).join(\" \")]);\n    });\n  });\n  return paths;\n};\n\nexport const getAllParentsBFS = (\n  startObject: GanttChartObjectType,\n  data: GanttChartDataType\n) => {\n  const f = (startObject: GanttChartObjectType) => {\n    const result = [startObject.id];\n    let i = 0;\n\n    while (i < result.length) {\n      const item = data.find((item) => item.id === result[i]);\n      if (!item!.dependencies) {\n        i++;\n        continue;\n      }\n      if (item!.dependencies.length > 0) {\n        result.push(...item!.dependencies);\n        i++;\n        continue;\n      }\n      i++;\n    }\n\n    result.shift();\n    //@ts-ignore\n    return [...new Set(result)];\n  };\n  return f(startObject);\n};\nexport const getAllTaskWithItemInDependencies = curry(\n  (id: string, data: GanttChartDataType) => {\n    return data.filter((item) => item.dependencies.includes(id));\n  }\n);\n\nexport const getArrayFieldById = curry(\n  (\n    field: \"dependencies\" | \"parentTasks\",\n    id: string,\n    data: GanttChartDataType\n  ): GanttChartDataType | [] => {\n    const object = data.find((item) => item.id === id);\n    const list = object![field];\n    if (!list!.length) return [];\n    return list.map((item) => {\n      return data.find((obj) => obj.id === item)!;\n    });\n  }\n);\nexport const getParentDoc = (\n    field: \"dependencies\" | \"parentTasks\",\n    id: string,\n    data: GanttChartDataType\n)=>{\n  const object = data.find((item) => item.id === id);\n  const list = object![field];\n  if (!list!.length) return [];\n  return list.map((item) => {\n    return data.find((obj) => obj.id === item)!;\n  }).filter((item)=>!item.isTask)\n}\n\nexport const getALLEndPositionItem = (data: GanttChartDataType) =>\n  data.map((item) => item.start + item.duration);\nexport const getAllStartPositionItems = (data: GanttChartDataType) =>\n  data.map((item) => item.start);\n\nexport const getAllDependenciesItemsById = (\n  data: GanttChartDataType,\n  itemId: string,\n  type: \"dependencies\" | \"parentTasks\"\n) => {\n  const result: string[] = [];\n  const f = (data: GanttChartDataType, startId: string) => {\n    const obj = data.find((item) => item.id === startId);\n    const dep = obj![type];\n    result.push(...dep);\n    if (dep.length === 0) return;\n    dep.map((item) => f(data, item));\n  };\n  f(data, itemId);\n\n  // @ts-ignore\n  return [...new Set<string[]>(result)];\n};\n\nexport const getAllObjectInDataById = (\n  data: GanttChartDataType,\n  id: string[]\n) => {\n  return id.map((id) => data.filter((item) => item.id === id)).flat(Infinity);\n};\n\nexport const minPositionByDependenciesItems = (\n  data: GanttChartDataType,\n  idTargetItem: string\n) => {\n  return compose(\n    minNumber,\n    getAllStartPositionItems,\n    getArrayFieldById(\"dependencies\", idTargetItem)\n  )(data);\n};\n\nexport const maxPositionByParentItems = (\n  data: GanttChartDataType,\n  idTargetItem: string\n) => {\n  return compose(\n    maxNumber,\n    getALLEndPositionItem,\n    getAllTaskWithItemInDependencies(idTargetItem)\n  )(data);\n};\n","import { mixTouchEvent, mouseEvent, touchEvent } from \"../types\";\n\nexport const getPositionEvent = (\n  e: mixTouchEvent,\n  axis: \"clientX\" | \"clientY\",\n  touchNumber: number = 0\n) => {\n  if (\n    e.type === \"touchstart\" ||\n    e.type === \"touchend\" ||\n    e.type === \"touchmove\"\n  ) {\n    return (e as touchEvent).touches[touchNumber][axis];\n  }\n  return (e as mouseEvent)[axis];\n};\n\nexport const createDraggableObject = (e: mixTouchEvent) => {\n  const target = e.target as HTMLDivElement;\n  return {\n    isDoc:target.dataset.task ==='false',\n    id: target.dataset.id,\n    posX: +getPositionEvent(e,'clientX',0),\n    duration: parseInt(target.dataset.duration!),\n    start: parseInt(target.dataset.start!),\n  };\n};\n","import { GanttChartDataType, GanttChartObjectType } from \"../types\";\nimport {\n  getAllDependenciesItemsById,\n    getAllParentsBFS,\n  getAllObjectInDataById,\n} from \"./ganttChart\";\nimport { maxNumber } from \"./other\";\nimport { maxPositionByParentItems } from \"./ganttChart\";\n\n// recursionTransition - перебираем все дочерние элементы справа, поэтапно\nexport const allChildrenPullLeft = (\n    startObject: GanttChartObjectType,\n    data: GanttChartDataType,\n    mode:\"all\"|'rec' = 'all'\n) => {\n\n  const dependenciesItems = getAllParentsBFS(startObject,data);\n  const neededUpdate = [startObject.id];\n\n  dependenciesItems.map((item) => {\n    const object = data.find((obj) => obj.id === item);\n    const parents = getAllObjectInDataById(data, object!.parentTasks);\n    const maxParentSize = maxPositionByParentItems(data, object!.id);\n\n    const maxParents = {\n      size: maxParentSize,\n      id: parents.filter(\n          (item) => item!.start! + item!.duration === maxParentSize\n      )[0].id,\n    };\n    let maxAjast = parents\n        .filter((item) => item.id !== maxParents.id)\n        .map((item) => ({\n          id: item!.id,\n          size: item.start + item.duration,\n        }))\n        .filter((item) => item.size === maxParents.size);\n\n    if(mode === 'all'){\n      if (\n          neededUpdate.includes(maxParents.id) &&\n          maxAjast.every((item) => neededUpdate.includes(item.id))\n      ) {\n        neededUpdate.push(object!.id);\n      }\n    }\n    if(mode === 'rec'){\n      if (\n          maxParents.size === object!.start &&\n          neededUpdate.includes(maxParents.id) &&\n          maxAjast.every((item) => neededUpdate.includes(item.id))\n      ) {\n        neededUpdate.push(object!.id);\n      }\n    }\n\n  });\n  neededUpdate.shift();\n  return neededUpdate;\n};\n\n// и только в том случае, если родительский задел его\nexport const recursionTransitionRight = (\n  startObject: GanttChartObjectType,\n  data: GanttChartDataType\n) => {\n\n  const dependencies = getAllParentsBFS(startObject,data);\n  const neededUpdate = [startObject.id];\n\n  dependencies.map((item)=>{\n    const object = data.find((obj) => obj.id === item);\n    const parents = getAllObjectInDataById(data, object!.parentTasks);\n\n    const maxParentSize = maxPositionByParentItems(data, object!.id);\n    const maxParents = {\n      size: maxParentSize,\n      id: parents.filter(\n          (item) => item!.start! + item!.duration === maxParentSize\n      )[0].id,\n    };\n    parents.map((item)=>{\n      if(item.duration+item.start === object!.start && neededUpdate.includes(item.id)){\n        neededUpdate.push(object!.id);\n      }\n    })\n  });\n  neededUpdate.shift();\n  return neededUpdate\n};\n\nexport const firstChildrenRight = (\n  startObject: GanttChartObjectType,\n  data: GanttChartDataType\n) => {\n  const firstDependencies = data.find((item) => item.id === startObject.id)!\n    .dependencies;\n  const pullItems: string[] = [];\n  const dependenciesObjects = startObject.dependencies.map((id) =>\n    data.find((item) => item.id === id)\n  );\n\n  dependenciesObjects.map((item) => {\n    const endPosition = startObject!.start + startObject!.duration;\n\n    if (item!.start === endPosition) {\n      const dependenciesItem = getAllDependenciesItemsById(\n        data,\n        item!.id,\n        \"dependencies\"\n      );\n      pullItems.push(item!.id);\n      pullItems.push(...dependenciesItem);\n    }\n  });\n\n  //@ts-ignore\n  return [...new Set(pullItems)];\n};\n\nexport const firstChildrenLeft = (\n  startObject: GanttChartObjectType,\n  data: GanttChartDataType,\n\n) => {\n  const dependenciesID = data.find((item) => item.id === startObject.id)!\n    .dependencies;\n\n  const dependenciesObjects = getAllObjectInDataById(data, dependenciesID);\n  const pullItems = dependenciesObjects.map((item) => {\n    const endPosition = startObject!.start + startObject!.duration;\n\n    const maxAjast = getAllObjectInDataById(data, item!.parentTasks)\n      .filter((item) => item.id !== startObject!.id)\n      .map((item) => item.duration + item.start);\n    if (maxAjast.length === 0) {\n      maxAjast.push(startObject!.duration + startObject!.start - 1);\n    }\n    return {\n      id: item.id,\n      neededUpdate:\n        endPosition > maxNumber(maxAjast) && endPosition === item.start,\n    };\n  });\n  return pullItems;\n};\n\nexport const pushAndPull = {\n  rightTapPullRight: {\n    recursionTransition: recursionTransitionRight,\n    firstChildrenRight: firstChildrenRight,\n  },\n  rightTapPullLeft: {\n    firstChildrenLeft: firstChildrenLeft,\n    allChildrenPull: allChildrenPullLeft,\n    recursionTransition:allChildrenPullLeft\n  },\n};\n","import React, { useState } from \"react\";\nimport { throttle } from \"lodash\";\nimport {\n  GanttChartConfigType,\n  GanttChartDataType,\n  mixTouchEvent,\n  pullEvent,\n} from \"../../../types\";\nimport {\n  getAllDependenciesItemsById,\n  getAllObjectInDataById,\n  minPositionByDependenciesItems,\n  maxPositionByParentItems,\n} from \"../../../utils/ganttChart\";\nimport { maxNumber, minNumber } from \"../../../utils/other\";\nimport {\n  createDraggableObject,\n  getPositionEvent,\n} from \"../../../utils/positionElements\";\nimport { pushAndPull } from \"../../../utils/ganttChartPullAndPushAlgoritms\";\n\nexport type GanttChartPullItemsType = {\n  rightPullEvent: (id: string, value: number) => void;\n  leftPullEvent: (id: string, value: number) => void;\n  config: GanttChartConfigType;\n  getStatusDragMode: (st: boolean) => void;\n  allTask: GanttChartDataType;\n};\n\nexport const mouseEventHandler = (fn: (e: mixTouchEvent) => void) => (\n  e: mixTouchEvent\n) => {\n  e.persist();\n  e.preventDefault();\n  fn(e);\n};\n\nexport const neededUpdatePosition = (position: number, step: number) =>\n  position >= step;\n\nexport const isConfront = (pos1: number, pos2: number) => pos1 - pos2 === 0;\n\nexport const GanttChartPullItems: React.FC<GanttChartPullItemsType> = ({\n  children,\n  rightPullEvent,\n  leftPullEvent,\n  config,\n  getStatusDragMode,\n  allTask,\n}) => {\n  const [dragObject, setDragObject] = useState<any>(null);\n  const [dragMode, setDragMode] = useState<pullEvent | null>(null);\n  const [minStartPosition, setStartPosition] = useState(0);\n  const [maxEndPosition, setMaxPosition] = useState(0);\n\n  const pullAndPushMode = {\n    rightTapToRight: config.pullAndPushMode\n      ? config.pullAndPushMode.rightTapToRight\n      : 'recursionPush',\n    rightTapToLeft: config.pullAndPushMode\n      ? config.pullAndPushMode.rightTapToLeft\n      : \"allChildrenPull\",\n  };\n  const pullEvent = {\n    allRightTaskPullRight: (id: string[], data: GanttChartDataType) => {\n      id.map((itemId) => {\n        const obj = data.find((item) => item.id == itemId);\n        leftPullEvent(itemId, obj!.start + 1);\n      });\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX + config.dayStep,\n        duration: +dragObject.duration + 1,\n      });\n      setStartPosition(minPositionByDependenciesItems(data, dragObject.id) + 1);\n    },\n\n    allRightTaskPullLeft: (id: string[], data: GanttChartDataType) => {\n      id.map((itemId) => {\n        const obj = data.find((item) => item.id == itemId);\n        leftPullEvent(itemId, obj!.start - 1);\n      });\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX + config.dayStep,\n        start: dragObject.start - 1,\n      });\n      setDragMode(null);\n      getStatusDragMode(false);\n      setDragMode(\"rightPull\");\n      getStatusDragMode(true);\n      setStartPosition(minPositionByDependenciesItems(data, dragObject.id) - 1);\n    },\n\n    leftHandlePullRight: () => {\n      leftPullEvent(dragObject.id, +dragObject.start + 1);\n      rightPullEvent(dragObject.id, +dragObject.duration - 1);\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX + config.dayStep,\n        start: +dragObject.start + 1,\n        duration: +dragObject.duration - 1,\n      });\n    },\n    leftHandlePullLeft: () => {\n      leftPullEvent(dragObject.id, +dragObject.start - 1);\n      rightPullEvent(dragObject.id, +dragObject.duration + 1);\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX - config.dayStep,\n        start: +dragObject.start - 1,\n        duration: +dragObject.duration + 1,\n      });\n    },\n    rightHandlePullRight: () => {\n      rightPullEvent(dragObject.id, +dragObject.duration + 1);\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX + config.dayStep,\n        duration: +dragObject.duration + 1,\n      });\n    },\n    rightHandlePullLeft: () => {\n      rightPullEvent(dragObject.id, +dragObject.duration - 1);\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX - config.dayStep,\n        duration: +dragObject.duration - 1,\n      });\n    },\n  };\n\n  const mouseDownTouchStartEventHandler = (e: mixTouchEvent) => {\n    const target = e.target as HTMLElement;\n    const type = (e.target as HTMLElement).dataset.type;\n    if (type === \"rightPull\" || type === \"leftPull\") {\n      setDragObject(createDraggableObject(e));\n      setDragMode(type);\n      getStatusDragMode(true);\n      setStartPosition(\n        minPositionByDependenciesItems(allTask, target!.dataset!.id!) ||\n          config.maxDay\n      );\n      setMaxPosition(\n        maxPositionByParentItems(allTask, target!.dataset!.id!) || 0\n      );\n    }\n  };\n\n  const mouseUpTouchEndEventHandler = () => {\n    setDragObject(null);\n    setDragMode(null);\n    getStatusDragMode(false);\n  };\n\n  const isPullRight = (e: mixTouchEvent) =>\n    neededUpdatePosition(\n      getPositionEvent(e, \"clientX\") - dragObject.posX,\n      config.dayStep\n    );\n  const isPullLeft = (e: mixTouchEvent) =>\n    neededUpdatePosition(\n      dragObject.posX - getPositionEvent(e, \"clientX\"),\n      config.dayStep\n    );\n\n  const mouseMoveTouchMove = (e: mixTouchEvent) => {\n    if (!dragObject || !dragMode) return;\n    switch (dragMode) {\n      case \"rightPull\": {\n        if (isPullLeft(e)) {\n          if (dragObject.duration === 3) return;\n          if (\n            isConfront(minStartPosition, dragObject.duration + dragObject.start)\n          ) {\n            const mode = pullAndPushMode.rightTapToLeft;\n            const pullObjects: string[] = [];\n\n            if (mode === \"allChildrenPull\") {\n              const resultID = pushAndPull.rightTapPullLeft\n                .allChildrenPull(\n                  allTask.find((item) => item.id == dragObject.id)!,\n                  allTask\n                );\n              pullObjects.push(...resultID);\n            }\n            if(mode === 'recursionPull'){\n              const resultID = pushAndPull.rightTapPullLeft\n                  .allChildrenPull(\n                      allTask.find((item) => item.id == dragObject.id)!,\n                      allTask,\n                      \"rec\"\n                  );\n              pullObjects.push(...resultID);\n            }\n            if (mode === \"firstPull\") {\n              const resultID = pushAndPull.rightTapPullLeft\n                .firstChildrenLeft(\n                  allTask.find((item) => item.id == dragObject.id)!,\n                  allTask\n                )\n                .filter((item) => item.neededUpdate)\n                .map((item) => item.id);\n              pullObjects.push(...resultID);\n            }\n\n            if (pullObjects.length > 0) {\n              pullEvent.allRightTaskPullLeft(pullObjects, allTask);\n            }\n          }\n\n          pullEvent.rightHandlePullLeft();\n        }\n        if (isPullRight(e)) {\n          if (dragObject.duration === 30) return;\n\n          if (\n            isConfront(minStartPosition, dragObject.duration + dragObject.start)\n          ) {\n            const mode = pullAndPushMode.rightTapToRight;\n            const pullObjects: string[] = [];\n\n            if (mode === \"recursionPush\") {\n              const resultID = pushAndPull.rightTapPullRight\n                .recursionTransition(\n                  allTask.find((item) => item.id == dragObject.id)!,\n                  allTask\n                )\n\n              pullObjects.push(...resultID);\n            }\n            if (mode === \"firstPushSaveDep\") {\n              const resultID = pushAndPull.rightTapPullRight.firstChildrenRight(\n                allTask.find((item) => item.id == dragObject.id)!,\n                allTask\n              );\n              // .filter((item) => item.needPull)\n              // .map((item) => item.id);\n              pullObjects.push(...resultID);\n            }\n            if (mode === \"allChildrenPush\") {\n              const resultID = getAllDependenciesItemsById(\n                allTask,\n                dragObject.id,\n                \"dependencies\"\n              );\n              pullObjects.push(...resultID);\n            }\n            if (mode === \"stop\") {\n              return;\n            }\n            if (pullObjects.length > 0) {\n              pullEvent.allRightTaskPullRight(pullObjects, allTask);\n            }\n          }\n          pullEvent.rightHandlePullRight();\n        }\n        break;\n      }\n\n      case \"leftPull\": {\n        if (isPullLeft(e)) {\n          if (dragObject.start - maxEndPosition == 0) {\n            return;\n          }\n          pullEvent.leftHandlePullLeft();\n        }\n        if (isPullRight(e)) {\n          if (dragObject.duration === 3) return;\n          pullEvent.leftHandlePullRight();\n        }\n        break;\n      }\n      default:\n        return;\n    }\n  };\n  return (\n    <div\n      style={{ cursor: dragMode ? \"ew-resize\" : \"auto\", position: \"relative\" }}\n      onMouseDown={mouseDownTouchStartEventHandler}\n      onMouseUp={mouseUpTouchEndEventHandler}\n      onMouseMove={mouseEventHandler(throttle(mouseMoveTouchMove, 10))}\n      onTouchStart={mouseDownTouchStartEventHandler}\n      onTouchEnd={mouseUpTouchEndEventHandler}\n      onTouchMove={mouseEventHandler(throttle(mouseMoveTouchMove, 10))}\n    >\n      {children}\n    </div>\n  );\n};\n","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\nexport type LinkAsButtonType = {\n  link?: string;\n  isDisabled: boolean;\n  clickHandler?: VoidFunction;\n};\n\nexport const LinkAsButton: React.FC<LinkAsButtonType> = ({\n  children,\n  link = \"\",\n  isDisabled = false,\n  clickHandler = () => {},\n}) => {\n  return (\n    <div\n      className={classNames(style.wrapper, isDisabled && style.disabled)}\n      onClick={(e) => {\n        e.preventDefault();\n        if (isDisabled) return;\n        clickHandler();\n      }}\n    >\n      <a href={link}>{children}</a>\n    </div>\n  );\n};\n","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\nimport { GanttChartDataType, GanttChartObjectType } from \"../../../types\";\nimport { LinkAsButton } from \"../../atoms/LinkAsButton\";\nimport { getArrayFieldById,getParentDoc } from \"../../../utils/ganttChart\";\n\nexport type GanttChartTaskInfoBoxType = {\n  left: number;\n  top: number;\n  isActive: boolean;\n  data: GanttChartObjectType;\n  allTask: GanttChartObjectType[];\n  createDocumentationHandler: (id: string) => void;\n};\n\nconst allParentTaskIsClosed = (tasks: GanttChartDataType) =>\n  tasks.every((item) => item.isReady);\n\nconst Info: React.FC<{ name: string; value: string | number }> = ({\n  name,\n  value,\n}) => {\n  return (\n    <li className={style.item}>\n      <span>{name}</span> <span>{value}</span>\n    </li>\n  );\n};\n\nconst InfoList: React.FC<{\n  name: string;\n  data: GanttChartDataType;\n  currentItem: GanttChartObjectType;\n  readyClass?: string;\n  notReady?: string;\n}> = ({ name, data, currentItem, readyClass = \"\", notReady = \"\" }) => {\n  return (\n    <>\n      {!!data.length && (\n        <li className={style.item}>\n          <span>{name}</span>\n          <ul>\n            {data.map((item, i) => (\n              <li\n                key={item.id + i}\n                className={classNames(\n                  style.dependence,\n                  !currentItem.isTask && (item.isReady ? readyClass : notReady)\n                )}\n              >\n                {item.name}\n              </li>\n            ))}\n          </ul>\n        </li>\n      )}\n    </>\n  );\n};\n\nexport const GanttChartTaskInfoBox: React.FC<GanttChartTaskInfoBoxType> = ({\n  left = 0,\n  top = 0,\n  isActive = false,\n  data = null,\n  allTask,\n  createDocumentationHandler,\n}) => {\n  const dependencies = data\n    ? getArrayFieldById(\"dependencies\", data.id! || \"\", allTask)\n    : null;\n\n  const parentTasks = data\n    ? getParentDoc(\"parentTasks\", data.id! || \"\", allTask)\n    : null;\n\n  return (\n    <>\n      {data && (\n        <div\n          style={{ left: left, top: top }}\n          className={classNames(style.taskInfo, isActive && style.active)}\n        >\n          <p className={style.name}>{data.name}</p>\n          <div className={style.bottom}>\n            <ul className={style.list}>\n              <Info name=\"Продолжительность\" value={data.duration!} />\n              <Info name=\"Начальный день\" value={data.start!} />\n              {!!dependencies && (\n                <InfoList\n                  currentItem={data!}\n                  data={dependencies}\n                  name={\"Следующие задачи:\"}\n                />\n              )}\n              {!!parentTasks  && (\n                <InfoList\n                  currentItem={data!}\n                  data={parentTasks}\n                  name=\"Необходимо закончить:\"\n                  readyClass={style.positive}\n                  notReady={style.negative}\n                />\n              )}\n            </ul>\n          </div>\n          {!data.isTask && (\n            <LinkAsButton\n              clickHandler={() => {\n                const result = window.confirm(\n                  'Представим, что после нажатия \"ок\" вы автоматически перешли на новую страницу и создали документацию'\n                );\n                result && createDocumentationHandler(data.id);\n              }}\n              isDisabled={!allParentTaskIsClosed(parentTasks!)}\n            >\n              Создать документацию\n            </LinkAsButton>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport style from \"./style.module.scss\";\nimport { ChartTask } from \"../../atoms/ChartTask\";\nimport { GanttChartHeader } from \"../../molecules/GanttChartHeader\";\nimport { GanttChartArrowLayer } from \"../../molecules/GanttChartArrowLayer\";\nimport {\n  GanttChartConfigType,\n  GanttChartDataType,\n  GanttChartObjectType,\n} from \"../../../types\";\nimport { GanttChartPullItems } from \"./GanttChartPullItems\";\nimport { createPathMap, createPositionMap } from \"../../../utils/ganttChart\";\nimport { GanttChartTaskInfoBox } from \"../../molecules/GanttChartTaskInfoBox\";\nimport classNames from \"classnames\";\nimport { maxNumber } from \"../../../utils/other\";\n\nexport type GanttChartType = {\n  data?: GanttChartDataType;\n  config: GanttChartConfigType;\n  height: number;\n  rightPullEvent: (id: string, value: number) => void;\n  leftPullEvent: (id: string, value: number) => void;\n  createDocument: (id: string) => void;\n};\n\nexport const GanttChart: React.FC<GanttChartType> = ({\n  data,\n  config,\n  height,\n  rightPullEvent,\n  leftPullEvent,\n  createDocument,\n}) => {\n  const [hoverItem, setHoverItem] = useState(\"\");\n  const [activeItem, setActiveItem] = useState<GanttChartObjectType | null>(\n    null\n  );\n  const [dragMode, setDragMode] = useState(false);\n  const [maxDay, setMaxDay] = useState(config.maxDay);\n\n  const clickItemHandler = (id: string) =>\n    setActiveItem(data!.find((item) => item.id === id) || null);\n  const clearActive = () => setActiveItem(null);\n\n  const positionItems = createPositionMap(data!, config);\n  const widthWrapper = (maxDay + 1) * config.dayStep;\n  const activeItemPosition = positionItems.get(\n    (activeItem && activeItem!.id) || \"\"\n  );\n\n  useEffect(() => {\n    const maxPositionElements = data!.map((item) => item.duration + item.start);\n    if (maxNumber(maxPositionElements) > maxDay)\n      setMaxDay(maxNumber(maxPositionElements));\n  }, [data]);\n  return (\n    <GanttChartPullItems\n      allTask={data!}\n      leftPullEvent={leftPullEvent}\n      rightPullEvent={rightPullEvent}\n      config={config}\n      getStatusDragMode={setDragMode}\n    >\n      <div\n        style={{ height: `${height}px` }}\n        className={classNames(style.container, dragMode && style.notScroll)}\n      >\n        <div style={{ width: widthWrapper }}>\n          <GanttChartHeader\n            type=\"zeroDay\"\n            zeroDayConfig={{ maxDay: maxDay }}\n            step={config.dayStep}\n          />\n          <main className={style.content}>\n            <GanttChartArrowLayer\n              activeId={\n                dragMode ? \"\" : hoverItem || (activeItem && activeItem.id) || \"\"\n              }\n              paths={createPathMap(data!, positionItems)}\n            />\n\n            <ul className={style.list}>\n              {data &&\n                data.map((item, i) => (\n                  <li\n                    key={i + item.id}\n                    style={{ height: config.lineHeight }}\n                    className={style.line}\n                    onMouseEnter={() => {\n                      setHoverItem(item.id);\n                    }}\n                    onMouseLeave={() => {\n                      setHoverItem(\"\");\n                    }}\n                  >\n                    <ChartTask\n                      id={item.id}\n                      width={config.dayStep * item.duration}\n                      duration={item.duration}\n                      height={config.itemHeight}\n                      name={item.name}\n                      startPosition={item.start * config.dayStep}\n                      startDay={item.start}\n                      isTask={item.isTask}\n                      clickHandler={clickItemHandler}\n                    />\n                  </li>\n                ))}\n            </ul>\n\n            <GanttChartTaskInfoBox\n              left={\n                activeItemPosition &&\n                activeItemPosition!.left + activeItemPosition!.width + 10\n              }\n              top={\n                activeItemPosition &&\n                activeItemPosition!.top + activeItemPosition!.height - 25\n              }\n              isActive={!!activeItem}\n              data={activeItem || data![0]}\n              allTask={data!}\n              createDocumentationHandler={createDocument}\n            />\n          </main>\n        </div>\n\n        <div\n          onClick={clearActive}\n          style={{ width: config.dayStep * maxDay + 1 }}\n          className={classNames(style.hiddenLayer, activeItem && style.active)}\n        />\n      </div>\n    </GanttChartPullItems>\n  );\n};\n","import { GanttChartDataType } from \"../types\";\n\nexport const inputMock: GanttChartDataType = [\n  {\n    id: \"task55\",\n    name: \"Тест 1\",\n    start: 5,\n    duration: 5,\n    dependencies: [\"doc55\"],\n    parentTasks: [],\n    isReady: true,\n    isTask: true,\n  },\n  {\n    id: \"doc55\",\n    name: \"Тест 2 документ\",\n    start: 20,\n    duration: 14,\n    dependencies: [],\n    parentTasks: [\"task55\", \"task555\"],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"task555\",\n    name: \"Тест 3\",\n    start: 5,\n    duration: 5,\n    dependencies: [\"doc55\"],\n    parentTasks: [],\n    isReady: true,\n    isTask: true,\n  },\n  {\n    id: \"task5555\",\n    name: \"Тест 4\",\n    start: 10,\n    duration: 10,\n    dependencies: [],\n    parentTasks: [],\n    isReady: false,\n    isTask: true,\n  },\n  {\n    id: \"task55554\",\n    name: \"Тест 5 документ\",\n    start: 3,\n    duration: 3,\n    dependencies: [\"task555545\"],\n    parentTasks: [],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"task5555451\",\n    name: \"Тест 7 документ\",\n    start: 20,\n    duration: 8,\n    dependencies: [],\n    parentTasks: [\"task555545\"],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"task555545\",\n    name: \"Тест 4 документ\",\n    start: 10,\n    duration: 10,\n    dependencies: [\"task5555123\", \"task5555451\"],\n    parentTasks: [\"task55554\"],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"task5555123\",\n    name: \"Тест 6 документ\",\n    start: 20,\n    duration: 8,\n    dependencies: [],\n    parentTasks: [\"task555545\"],\n    isReady: false,\n    isTask: false,\n  },\n\n  {\n    id: \"task1\",\n    name: \"Задание 5.7 для 5.1\",\n    start: 3,\n    duration: 7,\n    dependencies: [\"doc1\"],\n    parentTasks: [],\n    isReady: true,\n    isTask: true,\n  },\n  {\n    id: \"task2\",\n    name: \"Задание 5.7 для 5.2\",\n    start: 3,\n    duration: 7,\n    dependencies: [\"task4\", \"task5\"],\n    parentTasks: [],\n    isReady: true,\n    isTask: true,\n  },\n  {\n    id: \"task3\",\n    name: \"Задание 5.7 для 5.3\",\n    start: 3,\n    duration: 7,\n    dependencies: [\"doc3\"],\n    parentTasks: [],\n    isReady: true,\n    isTask: true,\n  },\n  {\n    id: \"task4\",\n    name: \"Задание 5.2 для 5.1\",\n    start: 13,\n    duration: 7,\n    dependencies: [\"doc1\", \"doc2\"],\n    parentTasks: [\"task2\"],\n    isReady: true,\n    isTask: true,\n  },\n  {\n    id: \"task5\",\n    name: \"Задание 5.2 для 5.3\",\n    start: 13,\n    duration: 7,\n    dependencies: [\"doc2\", \"doc3\"],\n    parentTasks: [\"task2\"],\n    isReady: true,\n    isTask: true,\n  },\n  {\n    id: \"doc1\",\n    name: \"Документация 5.1\",\n    start: 20,\n    duration: 16,\n    dependencies: [\"doc4\"],\n    parentTasks: [\"task1\", \"task4\"],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"doc2\",\n    name: \"Документация 5.2\",\n    start: 20,\n    duration: 10,\n    dependencies: [\"doc4\"],\n    parentTasks: [\"task4\", \"task5\"],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"doc3\",\n    name: \"Документация 5.3\",\n    start: 20,\n    duration: 10,\n    dependencies: [\"doc4\"],\n    parentTasks: [\"task3\", \"task5\"],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"doc4\",\n    name: \"Документация 5.7\",\n    start: 38,\n    duration: 10,\n    dependencies: [\"doc5\"],\n    parentTasks: [\"doc1\", \"doc2\", \"doc3\"],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"doc5\",\n    name: \"Документация 1\",\n    start: 49,\n    duration: 10,\n    dependencies: [],\n    parentTasks: [\"doc4\"],\n    isReady: false,\n    isTask: false,\n  },\n];\n","export default {\r\n    changeDuration :\"CHANGE_DURATION\",\r\n    changeStartDay :\"CHANGE_START\",\r\n    createDocumentation:\"CREATE_DOCUMENTATION\"\r\n}","import { GanttChartDataType, GanttChartObjectType } from \"../types\";\nimport C from \"./constants\";\n\ntype actionType = {\n  type: string;\n  id: string;\n  durationValue?: number;\n  startValue?: number;\n};\ntype updateObjectInCollection = (\n  obj: GanttChartObjectType\n) => GanttChartObjectType;\n\ntype updateCollectionByIdType = (\n  collection: GanttChartDataType,\n  id: string,\n  fn: updateObjectInCollection\n) => GanttChartDataType;\n\nconst updateCollectionById: updateCollectionByIdType = (collection, id, fn) => {\n  return collection.reduce((acc, item) => {\n    if (item.id === id) {\n      return [...acc, fn(item)];\n    }\n    return [...acc, { ...item }];\n  }, [] as GanttChartDataType);\n};\n\nconst changeDuration = (value: number) => (obj: GanttChartObjectType) => ({\n  ...obj,\n  duration: value,\n});\nconst changeStart = (value: number) => (obj: GanttChartObjectType) => ({\n  ...obj,\n  start: value,\n});\nconst createDocumentation =(obj:GanttChartObjectType)=>({\n    ...obj,\n    isReady:true\n})\n\nexport const reducer = (state: GanttChartDataType, action: actionType) => {\n  switch (action.type) {\n    case C.changeDuration:\n      return updateCollectionById(\n        state,\n        action.id,\n        changeDuration(action.durationValue!)\n      );\n    case C.changeStartDay:\n      return updateCollectionById(\n        state,\n        action.id,\n        changeStart(action.startValue!)\n      );\n    case C.createDocumentation:\n      return updateCollectionById(\n          state,\n          action.id,\n          createDocumentation\n      );\n    default:\n      return state;\n  }\n};\n","import React, { useReducer, useState } from \"react\";\nimport { GanttChart } from \"./components/organisms/GanttChart\";\nimport { inputMock } from \"./data/inputMock\";\nimport { reducer } from \"./reducers/reducer\";\nimport action from \"./reducers/constants\";\nimport { Test } from \"./components/organisms/Test\";\nimport style from \"./styles/app.module.scss\";\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, inputMock);\n  const [leftTap, setLeftTap] = useState< \"standard\"\n  | \"firstPull\"\n  | \"allChildrenPull\"\n  | \"recursionPull\">(\"recursionPull\");\n  const [rightTap, setRightTap] = useState< \"stop\"\n  | \"recursionPush\"\n  | \"allChildrenPush\"\n  | \"firstPushSaveDep\">(\"recursionPush\");\n  return (\n    <main className=\"wrapper\">\n      <div className={style.up}>\n        <p>Режим плашки влево:<span>{leftTap}</span>  </p>\n        <p>Режим плашки вправо:<span>{rightTap}</span></p>\n      </div>\n      <GanttChart\n        rightPullEvent={(id, value) => {\n          dispatch({\n            type: action.changeDuration,\n            id: id,\n            durationValue: value,\n          });\n        }}\n        leftPullEvent={(id, value) => {\n          dispatch({\n            type: action.changeStartDay,\n            id: id,\n            startValue: value,\n          });\n        }}\n        createDocument={(id) => {\n          dispatch({\n            type: action.createDocumentation,\n            id: id,\n          });\n        }}\n        height={650}\n        data={state}\n        config={{\n          maxDay: 60,\n          dayStep: 30,\n          itemHeight: 20,\n          lineHeight: 35,\n          debugSvgLayerMode: true,\n          pullAndPushMode:{\n            rightTapToLeft:leftTap,\n            rightTapToRight:rightTap\n          }\n        }}\n      />\n      <div className={style.buttons}>\n        <div className={style.cont}>\n          <p>Правая плашка вправо</p>\n          <div>\n            <button onClick={()=>{setRightTap('stop')}}>stop</button> <p> Полная остановка</p>\n          </div>\n          <div>\n            <button onClick={()=>{setRightTap('recursionPush')} }>recursionPush</button>\n            <p>\n              Рекурсивное толкание, где каждый элемент ведет себя как тот, что\n              мы двигаем\n            </p>\n          </div>\n          <div>\n            <button  onClick={()=>{setRightTap('allChildrenPush')} }>allChildrenPush</button>{\" \"}\n            <p>Все дочерние двигаются с сохранением разницы в позициях</p>\n          </div>\n          <div>\n            <button onClick={()=>{setRightTap('firstPushSaveDep')} }>firstPushSaveDep</button>{\" \"}\n            <p>\n              Первые двигаются относительно двигаемого элемента, остальные\n              сохраняют позицию относительно родителя\n            </p>\n          </div>\n        </div>\n        <div className={style.cont}>\n          <p>Правая плашка влево</p>\n          <div>\n            <button onClick={()=>{setLeftTap('standard')} }>standard</button> <p>Стандартное поведение</p>\n          </div>\n          <div>\n            <button onClick={()=>{setLeftTap('firstPull')} }>firstPull</button>\n            <p>\n              Тянем первые дочерние, без сохранения позиций относительно их\n              дочерних элементов\n            </p>\n          </div>\n          <div>\n            <button onClick={()=>{setLeftTap('allChildrenPull')}}>allChildrenPull</button>{\" \"}\n            <p>Все дочерние двигаются с сохранением разницы в позициях</p>\n          </div>\n          <div>\n            <button onClick={()=>{setLeftTap('recursionPull')}}>recursionPull</button>{\" \"}\n            <p>\n              Дочерние элементы двигаются только в том случае, если родитель\n              соприкоснулся с ним\n            </p>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}