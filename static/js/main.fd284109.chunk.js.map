{"version":3,"sources":["components/molecules/GanttChartTaskInfoBox/style.module.scss","components/atoms/ChartTask/style.module.scss","components/organisms/GanttChart/style.module.scss","components/molecules/GanttChartHeader/style.module.scss","components/molecules/GanttChartArrowLayer/style.module.scss","components/atoms/LinkAsButton/style.module.scss","components/atoms/ChartTask/index.tsx","components/molecules/GanttChartHeader/index.tsx","components/molecules/GanttChartArrowLayer/index.tsx","utils/ganttChartArrowPatterns.tsx","utils/ganttChart.tsx","components/organisms/GanttChart/GanttChartPullItems.tsx","utils/other.tsx","components/atoms/LinkAsButton/index.tsx","components/molecules/GanttChartTaskInfoBox/index.tsx","components/organisms/GanttChart/index.tsx","data/inputMock.ts","reducers/constants.tsx","reducers/reducer.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","ChartTask","React","memo","name","startPosition","height","width","duration","startDay","id","clickHandler","useState","isProlapse","setProlapse","textField","useRef","useEffect","current","clientWidth","onClick","style","transform","className","chartTask","container","classNames","pull","pullLeft","data-id","data-type","data-start","data-duration","ref","absolute","pullRight","GanttChartHeader","max","step","type","zeroDayConfig","header","top","bottom","maxDay","Array","fill","map","item","i","itemBottom","Line","path","active","arrow","points","GanttChartArrowLayer","paths","activeId","layer","xmlns","length","filter","arrowPattern","from","to","left","middleHeight","createPath","bottomToLeftPattern","createPathMap","data","positions","dependencies","fromPosition","get","toPosition","push","join","getArrayFieldById","field","list","find","obj","mouseEventHandler","fn","e","persist","preventDefault","neededUpdatePosition","position","getPositionX","touches","clientX","GanttChartPullItems","children","rightPullEvent","leftPullEvent","config","getStatusDragMode","allTask","dragObject","setDragObject","dragMode","setDragMode","minStartPosition","setStartPosition","maxEndPosition","setMaxPosition","pullEvent","start","posX","dayStep","mouseDownTouchStartEventHandler","arr","target","dataset","createDraggableObject","reduce","acc","maxNumber","getALLEndPositionItem","includes","getAllTaskWithItemInDependencies","mouseUpTouchEndEventHandler","isPullRight","isPullLeft","mouseMoveTouchMove","cursor","onMouseDown","onMouseUp","onMouseMove","throttle","onTouchStart","onTouchEnd","onTouchMove","LinkAsButton","link","isDisabled","wrapper","disabled","href","Info","value","InfoList","currentItem","readyClass","notReady","dependence","isTask","isReady","GanttChartTaskInfoBox","tasks","isActive","createDocumentationHandler","parentTasks","taskInfo","positive","negative","window","confirm","every","GanttChart","createDocument","hoverItem","setHoverItem","activeItem","setActiveItem","clickItemHandler","positionItems","Map","lineHeight","itemHeight","set","middleWidth","createPositionMap","widthWrapper","activeItemPosition","notScroll","content","key","line","onMouseEnter","onMouseLeave","hiddenLayer","inputMock","updateCollectionById","collection","createDocumentation","reducer","state","action","C","durationValue","changeStart","startValue","App","useReducer","dispatch","debugSvgLayerMode","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.fd284109.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"taskInfo\":\"style_taskInfo__2T9dR\",\"active\":\"style_active__318gz\",\"name\":\"style_name__3_UbX\",\"list\":\"style_list__YKPW_\",\"item\":\"style_item__1YwLo\",\"dependence\":\"style_dependence__1Eyn3\",\"positive\":\"style_positive__1U6g5\",\"negative\":\"style_negative__2pjeg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chartTask\":\"style_chartTask__2whzi\",\"container\":\"style_container__pXo55\",\"name\":\"style_name__1aupn\",\"absolute\":\"style_absolute__1mQCX\",\"pull\":\"style_pull__2v73O\",\"pullLeft\":\"style_pullLeft__1FCeK\",\"pullRight\":\"style_pullRight__mrxtL\",\"rightLine\":\"style_rightLine__1UdAw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1dGbq\",\"axis\":\"style_axis__1sRmn\",\"axisX\":\"style_axisX__3SfNW\",\"axisY\":\"style_axisY__3ExXO\",\"hiddenLayer\":\"style_hiddenLayer__2HbPz\",\"active\":\"style_active__1lPjB\",\"list\":\"style_list__-Bls-\",\"line\":\"style_line__3twnL\",\"content\":\"style_content__3NPYo\",\"infoItem\":\"style_infoItem__1cqkm\",\"notScroll\":\"style_notScroll__6s6uV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__eYM6Z\",\"top\":\"style_top__DSug5\",\"bottom\":\"style_bottom__1IhXZ\",\"itemBottom\":\"style_itemBottom__3C0WU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__3fEMV\",\"arrow\":\"style_arrow__2yMnH\",\"active\":\"style_active__1eU14\",\"show\":\"style_show__1Fdj5\",\"disable\":\"style_disable__3VCNv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__aTaeC\",\"disabled\":\"style_disabled__3Gtl1\"};","import React,{useState,useRef,useEffect} from \"react\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\n\nexport type ChartTaskData = {\n  name: string;\n  startPosition: number;\n  height: number;\n  width: number;\n  duration: number;\n  id: string;\n  startDay: number;\n  clickHandler?: (id: string) => void;\n};\n\n\nexport const ChartTask: React.FC<ChartTaskData> = React.memo(({\n  name,\n  startPosition,\n  height,\n  width,\n  duration,\n  startDay,\n  id,\n  clickHandler = () => {},\n}) => {\n\n    const [isProlapse,setProlapse] = useState(false);\n\n    const textField = useRef<null|HTMLDivElement>(null);\n    useEffect(()=>{\n        setProlapse(width - textField.current!.clientWidth <20);\n    },[width]);\n    return (\n    <div\n      onClick ={()=>{clickHandler(id)}}\n      style={{ transform: `translateX(${startPosition}px)` }}\n      className={style.chartTask}\n    >\n      <div\n        style={{ height: height, width: width - 4 }}\n        className={style.container}\n      >\n        <div\n          className={classNames(style.pull, style.pullLeft)}\n          data-id={id}\n          data-type=\"leftPull\"\n          data-start={startDay}\n          data-duration={duration}\n        />\n        <p ref={textField} className={classNames(style.name,isProlapse&&style.absolute)}>{name}</p>\n        <div\n          className={classNames(style.pull, style.pullRight)}\n          data-id={id}\n          data-type=\"rightPull\"\n          data-start={startDay}\n          data-duration={duration}\n        />\n      </div>\n    </div>\n  );\n});\n","import React from \"react\";\nimport style from \"./style.module.scss\";\n\nexport type GanttChartHeaderType = {\n  type: \"zeroDay\" | \"week\" | \"mount\";\n  step: number;\n  zeroDayConfig?: {\n    maxDay: number;\n  };\n};\n\nconst createArrayFrom0To = (max: number) => {\n  return Array<number>(max + 1)\n    .fill(0)\n    .map((item, i) => i);\n};\n\nexport const GanttChartHeader: React.FC<GanttChartHeaderType> = ({\n  step,\n  type,\n  zeroDayConfig,\n}) => {\n  return (\n    <header\n      className={style.header}\n    >\n      {type === \"zeroDay\" && (\n        <div>\n          <div className={style.top}>\n            <h2>Количество требуемых дней</h2>\n          </div>\n          <ul className={style.bottom}>\n            {createArrayFrom0To(zeroDayConfig!.maxDay).map((item) => (\n              <li className={style.itemBottom} style={{ width: step }}>\n                {<span>{item}</span>}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </header>\n  );\n};\n","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport {\n  GanttChartArrowsPathType,\n} from \"../../../types\";\nimport classNames from \"classnames\";\n\nexport type GanttChartArrowLayerType = {\n  paths: GanttChartArrowsPathType;\n  activeId?: string;\n};\n\nconst Line: React.FC<{ path: string; active: boolean }> = ({\n  path,\n  active,\n}) => {\n  return (\n    <polyline\n      className={classNames(style.arrow, active && style.active)}\n      points={path}\n    />\n  );\n};\nexport const GanttChartArrowLayer: React.FC<GanttChartArrowLayerType> = ({\n  paths,\n  activeId = \"\",\n}) => {\n  return (\n    <div className={style.layer}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\">\n        {paths!.map((path) => (\n          <Line path={path[path.length - 1]} active={false} />\n        ))}\n        {paths!\n          .filter((path) => path[0] === activeId)\n          .map((path) => (\n            <Line path={path[path.length - 1]} active={true} />\n          ))}\n      </svg>\n    </div>\n  );\n};\n","import { GanttChartPositionItemType } from \"../types\";\n\nconst arrowPattern = (\n  from: GanttChartPositionItemType,\n  to: GanttChartPositionItemType\n) => {\n  return [\n    `${to!.left - 6},${to!.middleHeight - 4}`,\n    `${to!.left - 2},${to!.middleHeight}`,\n    `${to!.left - 6},${to!.middleHeight + 4}`,\n    `${to!.left - 2},${to!.middleHeight}`,\n  ];\n};\n\nexport const bottomToLeftPattern = (\n  from: GanttChartPositionItemType,\n  to: GanttChartPositionItemType\n) => {\n  return [\n    `${from!.left + from!.width / 2},${from!.top + from!.height}`, // начинаем снизу с середины\n    `${from!.left + from!.width / 2},${to!.middleHeight}`,\n    `${to!.left}, ${to!.middleHeight}`,\n    arrowPattern(from, to),\n  ];\n};\n","import {\n  GanttChartConfigType,\n  GanttChartDataType,\n  GanttChartItemPositionMapType,\n  GanttChartPositionItemType,\n} from \"../types\";\nimport { bottomToLeftPattern } from \"./ganttChartArrowPatterns\";\n\nexport const createPositionMap = (\n  data: GanttChartDataType,\n  config: GanttChartConfigType\n) => {\n    const map = new Map();\n  data.map((item, i) => {\n    const top =\n      i * config.lineHeight + (config.lineHeight - config.itemHeight) / 2;\n    const left = config.dayStep * item.start;\n    const width = item.duration * config.dayStep;\n    const height = config.itemHeight;\n\n    map.set(item.id, {\n      top: top,\n      left: left,\n      middleHeight: top + height / 2,\n      middleWidth: left + width / 2,\n      width: width,\n      height: height,\n    });\n  });\n    return map;\n};\n\nexport const createPath = (\n  from: GanttChartPositionItemType,\n  to: GanttChartPositionItemType\n) => {\n  return bottomToLeftPattern(from, to);\n};\n\nexport const createPathMap = (\n  data: GanttChartDataType,\n  positions: GanttChartItemPositionMapType\n): string[][] => {\n  const paths: string[][] = [];\n  data.map((from) => {\n    from.dependencies!.map((to) => {\n      const fromPosition = positions.get(from.id);\n      const toPosition = positions.get(to);\n      paths.push([from.id, createPath(fromPosition!, toPosition!).join(\" \")]);\n    });\n  });\n  return paths;\n};\n\nexport const getAllTaskWithItemInDependencies =(data: GanttChartDataType,id:string)=>{\n  return data.filter((item)=>item.dependencies.includes(id));\n};\n\nexport const getArrayFieldById = (\n    data: GanttChartDataType,\n    field:\"dependencies\"|\"parentTasks\",\n    id: string\n): GanttChartDataType | [] => {\n  const object = data.find((item) => item.id === id);\n  const list = object![field];\n  if (!list!.length) return [];\n  return list.map((item) => {\n    return data.find((obj) => obj.id === item)!;\n  });\n};\n\nexport const getALLEndPositionItem = (data:GanttChartDataType)=>data.map((item)=>item.start+item.duration);\nexport const getAllStartFields = (data:GanttChartDataType)=>data.map((item)=>item.start);","import React, { useState} from \"react\";\nimport { throttle } from \"lodash\";\nimport { GanttChartConfigType, GanttChartDataType } from \"../../../types\";\nimport {\n  getAllStartFields,\n  getArrayFieldById,\n  getALLEndPositionItem,\n  getAllTaskWithItemInDependencies,\n} from \"../../../utils/ganttChart\";\nimport { maxNumber, minNumber } from \"../../../utils/other\";\n\n\n\nexport type GanttChartPullItemsType = {\n  rightPullEvent: (id: string, value: number) => void;\n  leftPullEvent: (id: string, value: number) => void;\n  config: GanttChartConfigType;\n  getStatusDragMode: (st: boolean) => void;\n  allTask: GanttChartDataType;\n};\nexport type mouseEvent = React.MouseEvent<HTMLDivElement, MouseEvent>;\nexport type touchEvent = React.TouchEvent<HTMLDivElement>;\n\nexport const mouseEventHandler = (fn: (e: mouseEvent | touchEvent) => void) => (\n  e: mouseEvent | touchEvent\n) => {\n  e.persist();\n  e.preventDefault();\n  fn(e);\n};\n\nexport const neededUpdatePosition = (position: number, step: number) =>\n  position >= step;\n\nconst getPositionX = (e:mouseEvent|touchEvent)=>{\n  if(e.type === 'touchstart' || e.type === 'touchend' || e.type==='touchmove' ){\n    return (e as touchEvent).touches[0].clientX;\n  }\n  return (e as mouseEvent).clientX;\n};\n\nexport const createDraggableObject = (e: mouseEvent | touchEvent) => {\n  const target = e.target as HTMLDivElement;\n  return {\n    id: target.dataset.id,\n    posX: getPositionX(e),\n    duration: target.dataset.duration,\n    start: target.dataset.start,\n  };\n};\n\nexport const GanttChartPullItems: React.FC<GanttChartPullItemsType> = ({\n  children,\n  rightPullEvent,\n  leftPullEvent,\n  config,\n  getStatusDragMode,\n  allTask,\n}) => {\n  const [dragObject, setDragObject] = useState<any>(null);\n  const [dragMode, setDragMode] = useState<\"leftPull\" | \"rightPull\" | null>(\n    null\n  );\n  const [minStartPosition, setStartPosition] = useState(0);\n  const [maxEndPosition, setMaxPosition] = useState(0);\n\n\n  const pullEvent = {\n    leftHandlePullRight: () => {\n      leftPullEvent(dragObject.id, +dragObject.start + 1);\n      rightPullEvent(dragObject.id, +dragObject.duration - 1);\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX + config.dayStep,\n        start: +dragObject.start + 1,\n        duration: +dragObject.duration - 1,\n      });\n    },\n    leftHandlePullLeft: () => {\n      leftPullEvent(dragObject.id, +dragObject.start - 1);\n      rightPullEvent(dragObject.id, +dragObject.duration + 1);\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX - config.dayStep,\n        start: +dragObject.start - 1,\n        duration: +dragObject.duration + 1,\n      });\n    },\n    rightHandlePullRight: () => {\n      rightPullEvent(dragObject.id, +dragObject.duration + 1);\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX + config.dayStep,\n        duration: +dragObject.duration + 1,\n      });\n    },\n    rightHandlePullLeft: () => {\n      rightPullEvent(dragObject.id, +dragObject.duration - 1);\n      setDragObject({\n        ...dragObject,\n        posX: +dragObject.posX - config.dayStep,\n        duration: +dragObject.duration - 1,\n      });\n    },\n  };\n\n  const mouseDownTouchStartEventHandler = (e: mouseEvent | touchEvent) => {\n    const target = e.target as HTMLElement;\n    const type = (e.target as HTMLElement).dataset.type;\n\n    if (type === \"rightPull\" || type === \"leftPull\") {\n      setDragObject(createDraggableObject(e));\n      setDragMode(type);\n      getStatusDragMode(true);\n      setStartPosition(\n        minNumber(\n          getAllStartFields(\n            getArrayFieldById(allTask, \"dependencies\", target!.dataset!.id!)\n          )\n        ) || config.maxDay\n      );\n      setMaxPosition(\n        maxNumber(\n          getALLEndPositionItem(\n            getAllTaskWithItemInDependencies(allTask, target!.dataset!.id!)\n          )\n        ) || 0\n      );\n    }\n  };\n\n  const mouseUpTouchEndEventHandler = () => {\n    setDragObject(null);\n    setDragMode(null);\n    getStatusDragMode(false);\n  };\n\n  const isPullRight = (e: mouseEvent | touchEvent) =>\n    neededUpdatePosition(getPositionX(e) - dragObject.posX, config.dayStep);\n  const isPullLeft = (e: mouseEvent | touchEvent) =>\n    neededUpdatePosition(dragObject.posX - getPositionX(e), config.dayStep);\n\n  const mouseMoveTouchMove = (e: mouseEvent|touchEvent) => {\n    if (!dragObject || !dragMode) return;\n    switch (dragMode) {\n      case \"rightPull\": {\n        if (isPullLeft(e)) {\n          if (dragObject.duration === 1) return;\n          pullEvent.rightHandlePullLeft();\n        }\n        if (isPullRight(e)) {\n          if (\n            minStartPosition - (+dragObject.duration + +dragObject.start) ==\n            0\n          )\n            return;\n          pullEvent.rightHandlePullRight();\n        }\n        break;\n      }\n      case \"leftPull\": {\n        if (isPullLeft(e)) {\n          if (+dragObject.start - maxEndPosition == 0) return;\n          pullEvent.leftHandlePullLeft();\n        }\n        if (isPullRight(e)) {\n          if (dragObject.duration === 1) return;\n          pullEvent.leftHandlePullRight();\n        }\n        break;\n      }\n      default:\n        return;\n    }\n  };\n  return (\n    <div\n      style={{ cursor: dragMode ? \"ew-resize\" : \"auto\" }}\n      onMouseDown={mouseDownTouchStartEventHandler}\n      onMouseUp={mouseUpTouchEndEventHandler}\n      onMouseMove={mouseEventHandler(throttle(mouseMoveTouchMove, 10))}\n\n      onTouchStart={mouseDownTouchStartEventHandler}\n      onTouchEnd={mouseUpTouchEndEventHandler}\n      onTouchMove={mouseEventHandler(throttle(mouseMoveTouchMove, 10))}\n    >\n      {children}\n    </div>\n  );\n};\n","export const minNumber = (arr: number[]) =>  arr.reduce((acc, item) => (item < acc ? item : acc), arr[0]);\nexport const maxNumber = (arr:number[])=> arr.reduce((acc, item) => (item > acc ? item : acc), arr[0]);\n","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\nexport type LinkAsButtonType = {\n  link?: string;\n  isDisabled: boolean;\n  clickHandler?: VoidFunction;\n};\n\nexport const LinkAsButton: React.FC<LinkAsButtonType> = ({\n  children,\n  link = \"\",\n  isDisabled = false,\n  clickHandler = () => {},\n}) => {\n  return (\n    <div\n      className={classNames(style.wrapper, isDisabled && style.disabled)}\n      onClick={(e) => {\n        e.preventDefault();\n        if (isDisabled) return;\n        clickHandler();\n      }}\n    >\n      <a href={link}>{children}</a>\n    </div>\n  );\n};\n","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\nimport { GanttChartDataType, GanttChartObjectType } from \"../../../types\";\nimport { LinkAsButton } from \"../../atoms/LinkAsButton\";\nimport {\n    getArrayFieldById\n} from \"../../../utils/ganttChart\";\n\nexport type GanttChartTaskInfoBoxType = {\n  left: number;\n  top: number;\n  isActive: boolean;\n  data: GanttChartObjectType;\n  allTask: GanttChartObjectType[];\n  createDocumentationHandler: (id: string) => void;\n};\n\nconst allParentTaskIsClosed = (tasks: GanttChartDataType) =>\n  tasks.every((item) => item.isReady);\n\nconst Info: React.FC<{ name: string; value: string | number }> = ({\n  name,\n  value,\n}) => {\n  return (\n    <li className={style.item}>\n      <span>{name}</span> <span>{value}</span>\n    </li>\n  );\n};\n\nconst InfoList: React.FC<{\n  name: string;\n  data: GanttChartDataType;\n  currentItem: GanttChartObjectType;\n  readyClass?: string;\n  notReady?: string;\n}> = ({ name, data, currentItem, readyClass = \"\", notReady = \"\" }) => {\n  return (\n    <>\n      {!!data.length && (\n        <li className={style.item}>\n          <span>{name}</span>\n          <ul>\n            {data.map((item) => (\n              <li\n                className={classNames(\n                  style.dependence,\n                  !currentItem.isTask && (item.isReady ? readyClass : notReady)\n                )}\n              >\n                {item.name}\n              </li>\n            ))}\n          </ul>\n        </li>\n      )}\n    </>\n  );\n};\n\nexport const GanttChartTaskInfoBox: React.FC<GanttChartTaskInfoBoxType> = ({\n  left = 0,\n  top = 0,\n  isActive = false,\n  data = null,\n  allTask,\n  createDocumentationHandler,\n}) => {\n  const dependencies = data\n    ? getArrayFieldById(allTask,'dependencies', data.id! || \"\")\n    : null;\n\n  const parentTasks = data ? getArrayFieldById(allTask,'parentTasks', data.id! || \"\") : null;\n\n  return (\n    <>\n      {data && (\n        <div\n          style={{ left: left, top: top }}\n          className={classNames(style.taskInfo, isActive && style.active)}\n        >\n          <p className={style.name}>{data.name}</p>\n          <div className={style.bottom}>\n            <ul className={style.list}>\n              <Info name=\"Продолжительность\" value={data.duration!} />\n              <Info name=\"Начальный день\" value={data.start!} />\n              {!!dependencies && (\n                <InfoList\n                  currentItem={data!}\n                  data={dependencies}\n                  name={\"Следующие задачи:\"}\n                />\n              )}\n              {!!parentTasks && (\n                <InfoList\n                  currentItem={data!}\n                  data={parentTasks}\n                  name=\"Необходимо закончить:\"\n                  readyClass={style.positive}\n                  notReady={style.negative}\n                />\n              )}\n            </ul>\n          </div>\n          {!data.isTask && (\n            <LinkAsButton\n              clickHandler={() => {\n                const result = window.confirm(\n                  'Представим, что после нажатия \"ок\" вы автоматически перешли на новую страницу и создали документацию'\n                );\n                result && createDocumentationHandler(data.id);\n              }}\n              isDisabled={!allParentTaskIsClosed(parentTasks!)}\n            >\n              Создать документацию\n            </LinkAsButton>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { useState } from \"react\";\nimport style from \"./style.module.scss\";\nimport { ChartTask } from \"../../atoms/ChartTask\";\nimport { GanttChartHeader } from \"../../molecules/GanttChartHeader\";\nimport { GanttChartArrowLayer } from \"../../molecules/GanttChartArrowLayer\";\nimport {\n  GanttChartConfigType,\n  GanttChartDataType,\n  GanttChartObjectType,\n} from \"../../../types\";\nimport { GanttChartPullItems } from \"./GanttChartPullItems\";\nimport { createPathMap, createPositionMap } from \"../../../utils/ganttChart\";\nimport { GanttChartTaskInfoBox } from \"../../molecules/GanttChartTaskInfoBox\";\nimport classNames from \"classnames\";\n\nexport type GanttChartType = {\n  data?: GanttChartDataType;\n  config: GanttChartConfigType;\n  height: number;\n  rightPullEvent: (id: string, value: number) => void;\n  leftPullEvent: (id: string, value: number) => void;\n  createDocument: (id: string) => void;\n};\n\n//todo мемоизировать дочерние компоненты, обязательно\n\nexport const GanttChart: React.FC<GanttChartType> = ({\n  data,\n  config,\n  height,\n  rightPullEvent,\n  leftPullEvent,\n  createDocument,\n}) => {\n  const [hoverItem, setHoverItem] = useState(\"\");\n  const [activeItem, setActiveItem] = useState<GanttChartObjectType | null>(\n    null\n  );\n  const [dragMode, setDragMode] = useState(false);\n\n  const clickItemHandler = (id: string) =>\n    setActiveItem(data!.find((item) => item.id === id) || null);\n  const clearActive = () => setActiveItem(null);\n\n  const positionItems = createPositionMap(data!, config);\n  const widthWrapper = (config.maxDay + 1) * config.dayStep;\n  const activeItemPosition = positionItems.get(\n    (activeItem && activeItem!.id) || \"\"\n  );\n\n  return (\n    <GanttChartPullItems\n      allTask={data!}\n      leftPullEvent={leftPullEvent}\n      rightPullEvent={rightPullEvent}\n      config={config}\n      getStatusDragMode={setDragMode}\n    >\n      <div\n        style={{ height: `${height}px`}}\n        className={classNames(style.container, dragMode && style.notScroll)}\n      >\n        <div style={{ width: widthWrapper }}>\n          <GanttChartHeader\n            type=\"zeroDay\"\n            zeroDayConfig={{ maxDay: config.maxDay }}\n            step={config.dayStep}\n          />\n          <main className={style.content}>\n            <GanttChartArrowLayer\n              activeId={\n                dragMode ? \"\" : hoverItem || (activeItem && activeItem.id) || \"\"\n              }\n              paths={createPathMap(data!, positionItems)}\n            />\n\n            <ul className={style.list}>\n              {data &&\n                data.map((item, i) => (\n                  <li\n                    key={i + item.id}\n                    style={{ height: config.lineHeight }}\n                    className={style.line}\n                    onMouseEnter={() => {\n                      setHoverItem(item.id);\n                    }}\n                    onMouseLeave={() => {\n                      setHoverItem(\"\");\n                    }}\n                  >\n                    <ChartTask\n                      id={item.id}\n                      width={config.dayStep * item.duration}\n                      duration={item.duration}\n                      height={config.itemHeight}\n                      name={item.name}\n                      startPosition={item.start * config.dayStep}\n                      startDay={item.start}\n                      clickHandler={clickItemHandler}\n                    />\n                  </li>\n                ))}\n            </ul>\n\n            <GanttChartTaskInfoBox\n              left={\n                activeItemPosition &&\n                activeItemPosition!.left + activeItemPosition!.width + 10\n              }\n              top={\n                activeItemPosition &&\n                activeItemPosition!.top + activeItemPosition!.height - 25\n              }\n              isActive={!!activeItem}\n              data={activeItem || data![0]}\n              allTask={data!}\n              createDocumentationHandler={createDocument}\n            />\n          </main>\n        </div>\n\n        <div\n          onClick={clearActive}\n          style={{ width: config.dayStep * config.maxDay + 1 }}\n          className={classNames(style.hiddenLayer, activeItem && style.active)}\n        />\n      </div>\n    </GanttChartPullItems>\n  );\n};\n","import { GanttChartDataType } from \"../types\";\n\nexport const inputMock: GanttChartDataType = [\n  {\n    id: \"doc55\",\n    name: \"Тест док1\",\n    start: 20,\n    duration: 14,\n    dependencies: [],\n    parentTasks: [],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"task1\",\n    name: \"Задание 5.7 для 5.1\",\n    start: 3,\n    duration: 7,\n    dependencies: ['doc1'],\n    parentTasks: [],\n    isReady: false,\n    isTask: true,\n  },\n  {\n    id: \"task2\",\n    name: \"Задание 5.7 для 5.2\",\n    start: 3,\n    duration: 7,\n    dependencies: [\"task4\", \"task5\"],\n    parentTasks: [],\n    isReady: false,\n    isTask: true,\n  },\n  {\n    id: \"task3\",\n    name: \"Задание 5.7 для 5.3\",\n    start: 3,\n    duration: 7,\n    dependencies: ['doc3'],\n    parentTasks: [],\n    isReady: false,\n    isTask: true,\n  },\n  {\n    id: \"task4\",\n    name: \"Задание 5.2 для 5.1\",\n    start: 13,\n    duration: 7,\n    dependencies: ['doc1','doc2'],\n    parentTasks: [],\n    isReady: false,\n    isTask: true,\n  },\n  {\n    id: \"task5\",\n    name: \"Задание 5.2 для 5.3\",\n    start: 13,\n    duration: 7,\n    dependencies: ['doc2','doc3'],\n    parentTasks: [],\n    isReady: false,\n    isTask: true,\n  },\n  {\n    id: \"doc1\",\n    name: \"Документация 5.1\",\n    start: 20,\n    duration: 14,\n    dependencies: ['doc4'],\n    parentTasks: [],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"doc2\",\n    name: \"Документация 5.2\",\n    start: 20,\n    duration: 10,\n    dependencies: ['doc4'],\n    parentTasks: [],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"doc3\",\n    name: \"Документация 5.3\",\n    start: 20,\n    duration: 10,\n    dependencies: ['doc4'],\n    parentTasks: [],\n    isReady: false,\n    isTask: false,\n  },\n  {\n    id: \"doc4\",\n    name: \"Документация 5.7\",\n    start: 34,\n    duration: 10,\n    dependencies: ['doc5'],\n    parentTasks: ['doc1','doc2','doc3'],\n    isReady: false,\n    isTask: false,\n  },\n    {\n        id: \"doc5\",\n        name: \"Документация 5.1\",\n        start: 44,\n        duration: 10,\n        dependencies: [],\n        parentTasks: ['doc4'],\n        isReady: false,\n        isTask: false,\n    },\n];\n","export default {\r\n    changeDuration :\"CHANGE_DURATION\",\r\n    changeStartDay :\"CHANGE_START\",\r\n    createDocumentation:\"CREATE_DOCUMENTATION\"\r\n}","import { GanttChartDataType, GanttChartObjectType } from \"../types\";\nimport C from \"./constants\";\n\ntype actionType = {\n  type: string;\n  id: string;\n  durationValue?: number;\n  startValue?: number;\n};\ntype updateObjectInCollection = (\n  obj: GanttChartObjectType\n) => GanttChartObjectType;\n\ntype updateCollectionByIdType = (\n  collection: GanttChartDataType,\n  id: string,\n  fn: updateObjectInCollection\n) => GanttChartDataType;\n\nconst updateCollectionById: updateCollectionByIdType = (collection, id, fn) => {\n  return collection.reduce((acc, item) => {\n    if (item.id === id) {\n      return [...acc, fn(item)];\n    }\n    return [...acc, { ...item }];\n  }, [] as GanttChartDataType);\n};\n\nconst changeDuration = (value: number) => (obj: GanttChartObjectType) => ({\n  ...obj,\n  duration: value,\n});\nconst changeStart = (value: number) => (obj: GanttChartObjectType) => ({\n  ...obj,\n  start: value,\n});\nconst createDocumentation =(obj:GanttChartObjectType)=>({\n    ...obj,\n    isReady:true\n})\n\nexport const reducer = (state: GanttChartDataType, action: actionType) => {\n  switch (action.type) {\n    case C.changeDuration:\n      return updateCollectionById(\n        state,\n        action.id,\n        changeDuration(action.durationValue!)\n      );\n    case C.changeStartDay:\n      return updateCollectionById(\n        state,\n        action.id,\n        changeStart(action.startValue!)\n      );\n    case C.createDocumentation:\n      return updateCollectionById(\n          state,\n          action.id,\n          createDocumentation\n      );\n    default:\n      return state;\n  }\n};\n","import React, { useReducer } from \"react\";\nimport { GanttChart } from \"./components/organisms/GanttChart\";\nimport { inputMock } from \"./data/inputMock\";\nimport { reducer } from \"./reducers/reducer\";\nimport action from \"./reducers/constants\";\n\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, inputMock);\n\n  return (\n    <main className=\"wrapper\">\n      <GanttChart\n        rightPullEvent={(id, value) => {\n          dispatch({\n            type: action.changeDuration,\n            id: id,\n            durationValue: value,\n          });\n        }}\n        leftPullEvent={(id, value) => {\n          dispatch({\n            type: action.changeStartDay,\n            id: id,\n            startValue: value,\n          });\n        }}\n        createDocument={(id) => {\n          dispatch({\n            type: action.createDocumentation,\n            id: id,\n          });\n        }}\n        height={650}\n        data={state}\n        config={{\n          maxDay: 88,\n          dayStep: 30,\n          itemHeight: 20,\n          lineHeight: 35,\n          debugSvgLayerMode: true,\n        }}\n      />\n    </main>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}